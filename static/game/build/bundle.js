var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const a="undefined"!=typeof window;let c=a?()=>window.performance.now():()=>Date.now(),u=a?t=>requestAnimationFrame(t):t;const d=new Set;function f(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&u(f)}function g(t){let e;return 0===d.size&&u(f),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function m(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function h(t){const e=b("style");return function(t,e){m(t.head||t,e)}(p(t),e),e}function $(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function _(){return w(" ")}function k(){return w("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function A(t,e,n){t.classList[n?"add":"remove"](e)}const M=new Set;let q,j=0;function R(t,e,n,o,r,s,l,i=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);c+=100*t+`%{${l(o,1-o)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=p(t);M.add(f);const g=f.__svelte_stylesheet||(f.__svelte_stylesheet=h(t).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${d} ${o}ms linear ${r}ms 1 both`,j+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),j-=r,j||u((()=>{j||(M.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),M.clear())})))}function T(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,r)}}function L(t){q=t}function I(t){(function(){if(!q)throw new Error("Function called outside component initialization");return q})().$$.on_mount.push(t)}const O=[],B=[],P=[],G=[],z=Promise.resolve();let D=!1;function Y(t){P.push(t)}const F=new Set;let H,V=0;function K(){const t=q;do{for(;V<O.length;){const t=O[V];V++,L(t),U(t.$$)}for(L(null),O.length=0,V=0;B.length;)B.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];F.has(e)||(F.add(e),e())}P.length=0}while(O.length);for(;G.length;)G.pop()();D=!1,F.clear(),L(t)}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function W(){return H||(H=Promise.resolve(),H.then((()=>{H=null}))),H}function J(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let X;function Z(){X={r:0,c:[],p:X}}function tt(){X.r||r(X.c),X=X.p}function et(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function nt(t,e,n,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),X.c.push((()=>{Q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const ot={duration:0};function rt(n,o,r){let l,i,a=o(n,r),u=!1,d=0;function f(){l&&N(n,l)}function m(){const{delay:o=0,duration:r=300,easing:s=e,tick:m=t,css:p}=a||ot;p&&(l=R(n,0,1,r,o,s,p,d++)),m(0,1);const h=c()+o,$=h+r;i&&i.abort(),u=!0,Y((()=>J(n,!0,"start"))),i=g((t=>{if(u){if(t>=$)return m(1,0),J(n,!0,"end"),f(),u=!1;if(t>=h){const e=s((t-h)/r);m(e,1-e)}}return u}))}let p=!1;return{start(){p||(p=!0,N(n),s(a)?(a=a(),W().then(m)):m())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function st(n,o,l){let i,a=o(n,l),u=!0;const d=X;function f(){const{delay:o=0,duration:s=300,easing:l=e,tick:f=t,css:m}=a||ot;m&&(i=R(n,1,0,s,o,l,m));const p=c()+o,h=p+s;Y((()=>J(n,!1,"start"))),g((t=>{if(u){if(t>=h)return f(0,1),J(n,!1,"end"),--d.r||r(d.c),!1;if(t>=p){const e=l((t-p)/s);f(1-e,e)}}return u}))}return d.r+=1,s(a)?W().then((()=>{a=a(),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),u&&(i&&N(n,i),u=!1)}}}function lt(n,o,l,i){let a=o(n,l),u=i?0:1,d=null,f=null,m=null;function p(){m&&N(n,m)}function h(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(o){const{delay:s=0,duration:l=300,easing:i=e,tick:$=t,css:y}=a||ot,v={start:c()+s,b:o};o||(v.group=X,X.r+=1),d||f?f=v:(y&&(p(),m=R(n,u,o,l,s,i,y)),o&&$(0,1),d=h(v,l),Y((()=>J(n,o,"start"))),g((t=>{if(f&&t>f.start&&(d=h(f,l),f=null,J(n,d.b,"start"),y&&(p(),m=R(n,u,d.b,d.duration,0,i,a.css))),d)if(t>=d.end)$(u=d.b,1-u),J(n,d.b,"end"),f||(d.b?p():--d.group.r||r(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*i(e/d.duration),$(u,1-u)}return!(!d&&!f)})))}return{run(t){s(a)?W().then((()=>{a=a(),$(t)})):$(t)},end(){p(),d=f=null}}}function it(t,e){t.f(),function(t,e){nt(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function at(t){t&&t.c()}function ct(t,e,o,l){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(e,o),l||Y((()=>{const e=a.map(n).filter(s);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(Y)}function ut(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(t,e){-1===t.$$.dirty[0]&&(O.push(t),D||(D=!0,z.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ft(e,n,s,l,i,a,c,u=[-1]){const d=q;L(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let g=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),g&&dt(e,t)),n})):[],f.update(),g=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&et(e.$$.fragment),ct(e,n.target,n.anchor,n.customElement),K()}L(d)}class gt{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt=[];function pt(e,n=t){let o;const r=new Set;function s(t){if(l(e,t)&&(e=t,o)){const t=!mt.length;for(const t of r)t[1](),mt.push(t,e);if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(l,i=t){const a=[l,i];return r.add(a),1===r.size&&(o=n(s)||t),l(e),()=>{r.delete(a),0===r.size&&(o(),o=null)}}}}const ht=pt({}),$t=pt({}),yt=pt({}),vt=pt([]);function bt(t,e,n){const o=t.slice();return o[1]=e[n],o}function wt(t){let e;return{c(){e=b("div"),S(e,"class","bonus svelte-egfqkg")},m(t,n){$(t,e,n)},d(t){t&&y(e)}}}function _t(t){let e,n,o,r,s,l,i,a,c,u=t[1].name+"",d=t[1].cards.length+"",f=t[1].shurikenActive&&wt();return{c(){e=b("div"),n=b("div"),o=b("div"),r=w(u),s=_(),l=b("div"),i=w(d),a=_(),f&&f.c(),c=_(),S(o,"class","playerName svelte-egfqkg"),S(l,"class","playerBalls svelte-egfqkg"),S(n,"class","rectangle svelte-egfqkg"),S(e,"class","player svelte-egfqkg")},m(t,u){$(t,e,u),m(e,n),m(n,o),m(o,r),m(n,s),m(n,l),m(l,i),m(e,a),f&&f.m(e,null),m(e,c)},p(t,n){1&n&&u!==(u=t[1].name+"")&&E(r,u),1&n&&d!==(d=t[1].cards.length+"")&&E(i,d),t[1].shurikenActive?f||(f=wt(),f.c(),f.m(e,c)):f&&(f.d(1),f=null)},d(t){t&&y(e),f&&f.d()}}}function kt(e){let n,o,r,s=Object.values(e[0]),l=[];for(let t=0;t<s.length;t+=1)l[t]=_t(bt(e,s,t));return{c(){n=b("div"),o=b("div"),o.innerHTML='<div class="rectangle svelte-egfqkg"><div class="playerName svelte-egfqkg">PLAYERS</div> \n      <div class="playerBalls svelte-egfqkg"></div></div> \n    <div class="bonus svelte-egfqkg"></div>',r=_();for(let t=0;t<l.length;t+=1)l[t].c();S(o,"class","header svelte-egfqkg"),S(n,"class","players svelte-egfqkg")},m(t,e){$(t,n,e),m(n,o),m(n,r);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(1&e){let o;for(s=Object.values(t[0]),o=0;o<s.length;o+=1){const r=bt(t,s,o);l[o]?l[o].p(r,e):(l[o]=_t(r),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},i:t,o:t,d(t){t&&y(n),v(l,t)}}}function xt(t,e,n){let o;return i(t,$t,(t=>n(0,o=t))),[o]}class St extends gt{constructor(t){super(),ft(this,t,xt,kt,l,{})}}function Et(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Ct(t){const e=t-1;return e*e*e+1}function At(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}function Mt(t,{delay:e=0,duration:n=400,easing:o=Et,amount:r=5,opacity:s=0}={}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.filter?"":l.filter,c=i*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`opacity: ${i-c*e}; filter: ${a} blur(${e*r}px);`}}function qt(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function jt(t,{delay:e=0,duration:n=400,easing:o=Ct,x:r=0,y:s=0,opacity:l=0}={}){const i=getComputedStyle(t),a=+i.opacity,c="none"===i.transform?"":i.transform,u=a*(1-l);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function Rt(t,{delay:e=0,duration:n=400,easing:o=Ct,start:r=0,opacity:s=0}={}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,c=1-r,u=i*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} scale(${1-c*e});\n\t\t\topacity: ${i-u*e}\n\t\t`}}function Nt(t){let e,n,o,r,s,l;return{c(){e=b("div"),n=b("div"),o=w(t[1]),S(n,"class","number svelte-64xje5"),S(e,"class","ball svelte-64xje5")},m(t,r){$(t,e,r),m(e,n),m(n,o),l=!0},p(t,e){(!l||2&e)&&E(o,t[1])},i(t){l||(Y((()=>{s&&s.end(1),r=rt(e,jt,{x:1500,duration:2e3}),r.start()})),l=!0)},o(t){r&&r.invalidate(),s=st(e,jt,{x:-1500,duration:2e3}),l=!1},d(t){t&&y(e),t&&s&&s.end()}}}function Tt(t){let e,n,o,r,s,l;return{c(){e=b("div"),n=b("div"),o=w(t[1]),S(n,"class","number svelte-64xje5"),S(e,"class","big ball svelte-64xje5")},m(t,r){$(t,e,r),m(e,n),m(n,o),l=!0},p(t,e){(!l||2&e)&&E(o,t[1])},i(t){l||(Y((()=>{s&&s.end(1),r=rt(e,jt,{y:500,duration:1e3,delay:1e3}),r.start()})),l=!0)},o(t){r&&r.invalidate(),s=st(e,jt,{y:-500,duration:1e3}),l=!1},d(t){t&&y(e),t&&s&&s.end()}}}function Lt(t){let e,n,o,r;const s=[Tt,Nt],l=[];function i(t,e){return t[0]?0:1}return e=i(t),n=l[e]=s[e](t),{c(){n.c(),o=k()},m(t,n){l[e].m(t,n),$(t,o,n),r=!0},p(t,[r]){let a=e;e=i(t),e===a?l[e].p(t,r):(Z(),nt(l[a],1,1,(()=>{l[a]=null})),tt(),n=l[e],n?n.p(t,r):(n=l[e]=s[e](t),n.c()),et(n,1),n.m(o.parentNode,o))},i(t){r||(et(n),r=!0)},o(t){nt(n),r=!1},d(t){l[e].d(t),t&&y(o)}}}function It(t,e,n){let{big:o=!1}=e,{number:r}=e;return t.$$set=t=>{"big"in t&&n(0,o=t.big),"number"in t&&n(1,r=t.number)},[o,r]}class Ot extends gt{constructor(t){super(),ft(this,t,It,Lt,l,{big:0,number:1})}}function Bt(t){let e,n,o,r,s,l,i=t[1]&&Pt(t);return{c(){e=b("div"),o=_(),r=b("div"),i&&i.c(),S(e,"class","porthole svelte-d77x0"),S(r,"class","background svelte-d77x0")},m(t,n){$(t,e,n),$(t,o,n),$(t,r,n),i&&i.m(r,null),l=!0},p(t,e){t[1]?i?(i.p(t,e),2&e&&et(i,1)):(i=Pt(t),i.c(),et(i,1),i.m(r,null)):i&&(Z(),nt(i,1,1,(()=>{i=null})),tt())},i(t){l||(Y((()=>{n||(n=lt(e,qt,{duration:1e3},!0)),n.run(1)})),et(i),Y((()=>{s||(s=lt(r,Mt,{duration:4e3},!0)),s.run(1)})),l=!0)},o(t){n||(n=lt(e,qt,{duration:1e3},!1)),n.run(0),nt(i),s||(s=lt(r,Mt,{duration:4e3},!1)),s.run(0),l=!1},d(t){t&&y(e),t&&n&&n.end(),t&&y(o),t&&y(r),i&&i.d(),t&&s&&s.end()}}}function Pt(t){let e,n;return e=new Ot({props:{big:!0,number:t[1]}}),{c(){at(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.number=t[1]),e.$set(o)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Gt(t){let e,n,o=t[0]&&Bt(t);return{c(){e=b("div"),o&&o.c()},m(t,r){$(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&et(o,1)):(o=Bt(t),o.c(),et(o,1),o.m(e,null)):o&&(Z(),nt(o,1,1,(()=>{o=null})),tt())},i(t){n||(et(o),n=!0)},o(t){nt(o),n=!1},d(t){t&&y(e),o&&o.d()}}}function zt(t,e,n){let o,r=!1;return setTimeout((()=>n(0,r=!0)),500),vt.subscribe((t=>{o?(n(1,o=void 0),setTimeout((()=>n(1,o=t.pop())),500)):n(1,o=t.pop())})),[r,o]}class Dt extends gt{constructor(t){super(),ft(this,t,zt,Gt,l,{})}}function Yt(t,{from:e,to:n},o={}){const r=getComputedStyle(t),l="none"===r.transform?"":r.transform,[i,a]=r.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*i/n.width-(n.left+i),u=e.top+e.height*a/n.height-(n.top+a),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:g=Ct}=o;return{delay:d,duration:s(f)?f(Math.sqrt(c*c+u*u)):f,easing:g,css:(t,o)=>{const r=o*c,s=o*u,i=t+o*e.width/n.width,a=t+o*e.height/n.height;return`transform: ${l} translate(${r}px, ${s}px) scale(${i}, ${a});`}}}function Ft(t,e,n){const o=t.slice();return o[3]=e[n],o}function Ht(t){let e,n,o,r=[],s=new Map,l=t[0];const i=t=>t[3];for(let e=0;e<l.length;e+=1){let n=Ft(t,l,e),o=i(n);s.set(o,r[e]=Vt(o,n))}return{c(){e=b("div");for(let t=0;t<r.length;t+=1)r[t].c();S(e,"class","tube svelte-jqica4")},m(t,n){$(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null);o=!0},p(t,n){if(1&n){l=t[0],Z();for(let t=0;t<r.length;t+=1)r[t].r();r=function(t,e,n,o,r,s,l,i,a,c,u,d){let f=t.length,g=s.length,m=f;const p={};for(;m--;)p[t[m].key]=m;const h=[],$=new Map,y=new Map;for(m=g;m--;){const t=d(r,s,m),i=n(t);let a=l.get(i);a?o&&a.p(t,e):(a=c(i,t),a.c()),$.set(i,h[m]=a),i in p&&y.set(i,Math.abs(m-p[i]))}const v=new Set,b=new Set;function w(t){et(t,1),t.m(i,u),l.set(t.key,t),u=t.first,g--}for(;f&&g;){const e=h[g-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,g--):$.has(r)?!l.has(o)||v.has(o)?w(e):b.has(r)?f--:y.get(o)>y.get(r)?(b.add(o),w(e)):(v.add(r),f--):(a(n,l),f--)}for(;f--;){const e=t[f];$.has(e.key)||a(e,l)}for(;g;)w(h[g-1]);return h}(r,n,i,1,t,l,s,e,it,Vt,null,Ft);for(let t=0;t<r.length;t+=1)r[t].a();tt()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)et(r[t]);Y((()=>{n||(n=lt(e,jt,{y:300,duration:1e3,delay:0,opacity:1},!0)),n.run(1)})),o=!0}},o(t){for(let t=0;t<r.length;t+=1)nt(r[t]);n||(n=lt(e,jt,{y:300,duration:1e3,delay:0,opacity:1},!1)),n.run(0),o=!1},d(t){t&&y(e);for(let t=0;t<r.length;t+=1)r[t].d();t&&n&&n.end()}}}function Vt(n,o){let r,s,l,i,a,u=t;return s=new Ot({props:{number:o[3]}}),{key:n,first:null,c(){r=b("div"),at(s.$$.fragment),l=_(),this.first=r},m(t,e){$(t,r,e),ct(s,r,null),m(r,l),a=!0},p(t,e){o=t;const n={};1&e&&(n.number=o[3]),s.$set(n)},r(){i=r.getBoundingClientRect()},f(){T(r),u()},a(){u(),u=function(n,o,r,s){if(!o)return t;const l=n.getBoundingClientRect();if(o.left===l.left&&o.right===l.right&&o.top===l.top&&o.bottom===l.bottom)return t;const{delay:i=0,duration:a=300,easing:u=e,start:d=c()+i,end:f=d+a,tick:m=t,css:p}=r(n,{from:o,to:l},s);let h,$=!0,y=!1;function v(){p&&N(n,h),$=!1}return g((t=>{if(!y&&t>=d&&(y=!0),y&&t>=f&&(m(1,0),v()),!$)return!1;if(y){const e=0+1*u((t-d)/a);m(e,1-e)}return!0})),p&&(h=R(n,0,1,a,i,u,p)),i||(y=!0),m(0,1),v}(r,i,Yt,{})},i(t){a||(et(s.$$.fragment,t),a=!0)},o(t){nt(s.$$.fragment,t),a=!1},d(t){t&&y(r),ut(s)}}}function Kt(t){let e,n,o=t[1].isStarted&&Ht(t);return{c(){o&&o.c(),e=k()},m(t,r){o&&o.m(t,r),$(t,e,r),n=!0},p(t,[n]){t[1].isStarted?o?(o.p(t,n),2&n&&et(o,1)):(o=Ht(t),o.c(),et(o,1),o.m(e.parentNode,e)):o&&(Z(),nt(o,1,1,(()=>{o=null})),tt())},i(t){n||(et(o),n=!0)},o(t){nt(o),n=!1},d(t){o&&o.d(t),t&&y(e)}}}function Ut(t,e,n){let o;i(t,ht,(t=>n(1,o=t)));let r=0,s=[];return yt.subscribe((t=>{const{cards:e}=t;e.length!==s.length?e.length>s.length?(r+=300,setTimeout((()=>n(0,s=[...s,e[e.length-1]])),r)):n(0,s=[...e]):r=0})),[s,o]}class Wt extends gt{constructor(t){super(),ft(this,t,Ut,Kt,l,{})}}const Jt=window.document.location.host.replace(/:.*/,""),Qt=new Colyseus.Client(location.protocol.replace("http","ws")+"//"+Jt+(location.port?":2567":""));let Xt;window.location.pathname.split("/")[2];const Zt=async t=>{t=t||"default";const e=(await Qt.getAvailableRooms()).find((e=>e.metadata.roomName===t));Xt=e?await Qt.joinById(e.roomId):await Qt.create("the_mind",{roomName:t}),Xt.onStateChange((t=>{console.log("new state:",t)})),Xt.onMessage("GREETINGS",(()=>{$t.subscribe((t=>{var e;console.log("updated me with ",[...t[Xt.sessionId].cards]),e=t[Xt.sessionId],yt.set(e)}))})),Xt.onMessage("MISTAKE",(t=>{})),Xt.onMessage("LEVEL_UP",(t=>{})),Xt.onMessage("WIN",(t=>{})),Xt.onMessage("LOOSE",(t=>{})),Xt.onMessage("GAME_IN_PROGRESS",(t=>{})),Xt.onError(((t,e)=>{console.log(Qt.id,"couldn't join",Xt.name)})),Xt.state.players.onAdd=(t,e)=>{t.onChange=t=>((t,e)=>{e.filter((t=>"cards"!==t.field)).forEach((e=>$t.update((n=>({...n,[t]:{...n[t],[e.field]:e.value}})))))})(e,t),t.cards.onAdd=(t,n)=>((t,e,n)=>$t.update((n=>({...n,[t]:{...n[t],cards:[...n[t].cards,e]}}))))(e,t),t.cards.onRemove=(t,n)=>((t,e,n)=>$t.update((n=>({...n,[t]:{...n[t],cards:n[t].cards.filter((t=>t!==e))}}))))(e,t),t.cards.onChange=(t,e)=>console.log("playerCard onChange",t,e),((t,e)=>{$t.update((n=>({...n,[e]:{...t}})))})(t,e)},Xt.state.players.onRemove=(t,e)=>((t,e)=>$t.update((n=>Object.keys(t).filter((t=>t!==e)).reduce(((t,e)=>(t[e]=n[e],t)),{}))))(t,e),Xt.state.players.onChange=(t,e)=>((t,e)=>$t.update((n=>({...n,[e]:{...t}}))))(t,e),Xt.state.deck.onAdd=t=>(t=>vt.update((e=>[...e,t])))(t),Xt.state.deck.onRemove=t=>(t=>vt.update((e=>e.filter((e=>e!==t)))))(t),Xt.state.game.onChange=t=>(t=>t.forEach((t=>ht.update((e=>({...e,[t.field]:t.value}))))))(t)},te=()=>Xt.send("START_GAME");function ee(e){let n,o,r,s,l,i,a;return{c(){n=b("div"),o=b("div"),r=b("div"),r.innerHTML='<div class="playText svelte-kgqyn">PLAY</div>',s=_(),l=b("div"),l.innerHTML='<div class="bonus svelte-kgqyn"></div>',S(r,"class","play svelte-kgqyn"),S(o,"class","left"),S(l,"class","right"),S(n,"class","buttonsContainer svelte-kgqyn")},m(t,c){$(t,n,c),m(n,o),m(o,r),m(n,s),m(n,l),i||(a=x(r,"click",e[0]),i=!0)},p:t,i:t,o:t,d(t){t&&y(n),i=!1,a()}}}function ne(t,e,n){let o;i(t,yt,(t=>n(1,o=t)));return[()=>{var t;console.log(o.cards),t=o.cards[0],Xt.send("PLAY_CARD",{card:t})}]}class oe extends gt{constructor(t){super(),ft(this,t,ne,ee,l,{})}}function re(t,e,n){const o=t.slice();return o[1]=e[n],o}function se(t,e,n){const o=t.slice();return o[4]=e[n],o}function le(t){let e,n,o;return{c(){e=b("div"),S(e,"class","heart svelte-1d7jb0c")},m(t,n){$(t,e,n),o=!0},p(t,e){},i(t){o||(Y((()=>{n||(n=lt(e,Rt,{duration:800,delay:1e3,opacity:.5,easing:At},!0)),n.run(1)})),o=!0)},o(t){n||(n=lt(e,Rt,{duration:800,delay:1e3,opacity:.5,easing:At},!1)),n.run(0),o=!1},d(t){t&&y(e),t&&n&&n.end()}}}function ie(t){let e,n,o;return{c(){e=b("div"),S(e,"class","bonus svelte-1d7jb0c")},m(t,n){$(t,e,n),o=!0},p(t,e){},i(t){o||(Y((()=>{n||(n=lt(e,Rt,{duration:800,delay:1e3,opacity:.5,easing:At},!0)),n.run(1)})),o=!0)},o(t){n||(n=lt(e,Rt,{duration:800,delay:1e3,opacity:.5,easing:At},!1)),n.run(0),o=!1},d(t){t&&y(e),t&&n&&n.end()}}}function ae(t){let e,n,o,r,s,l,i,a,c,u,d=t[0].level+"",f=Array(t[0].lifes),g=[];for(let e=0;e<f.length;e+=1)g[e]=le(se(t,f,e));const p=t=>nt(g[t],1,1,(()=>{g[t]=null}));let h=Array(t[0].shuriken),k=[];for(let e=0;e<h.length;e+=1)k[e]=ie(re(t,h,e));const x=t=>nt(k[t],1,1,(()=>{k[t]=null}));return{c(){e=b("div"),n=b("div"),o=w("LEVEL "),r=b("span"),s=w(d),l=_(),i=b("div");for(let t=0;t<g.length;t+=1)g[t].c();a=_(),c=b("div");for(let t=0;t<k.length;t+=1)k[t].c();S(r,"class","levelNumber svelte-1d7jb0c"),S(n,"class","level svelte-1d7jb0c"),S(i,"class","heartContainer svelte-1d7jb0c"),S(c,"class","bonusContainer svelte-1d7jb0c"),S(e,"class","dashboard svelte-1d7jb0c")},m(t,d){$(t,e,d),m(e,n),m(n,o),m(n,r),m(r,s),m(e,l),m(e,i);for(let t=0;t<g.length;t+=1)g[t].m(i,null);m(e,a),m(e,c);for(let t=0;t<k.length;t+=1)k[t].m(c,null);u=!0},p(t,[e]){if((!u||1&e)&&d!==(d=t[0].level+"")&&E(s,d),1&e){let n;for(f=Array(t[0].lifes),n=0;n<f.length;n+=1){const o=se(t,f,n);g[n]?(g[n].p(o,e),et(g[n],1)):(g[n]=le(),g[n].c(),et(g[n],1),g[n].m(i,null))}for(Z(),n=f.length;n<g.length;n+=1)p(n);tt()}if(1&e){let n;for(h=Array(t[0].shuriken),n=0;n<h.length;n+=1){const o=re(t,h,n);k[n]?(k[n].p(o,e),et(k[n],1)):(k[n]=ie(),k[n].c(),et(k[n],1),k[n].m(c,null))}for(Z(),n=h.length;n<k.length;n+=1)x(n);tt()}},i(t){if(!u){for(let t=0;t<f.length;t+=1)et(g[t]);for(let t=0;t<h.length;t+=1)et(k[t]);u=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)nt(g[t]);k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)nt(k[t]);u=!1},d(t){t&&y(e),v(g,t),v(k,t)}}}function ce(t,e,n){let o;return i(t,ht,(t=>n(0,o=t))),[o]}class ue extends gt{constructor(t){super(),ft(this,t,ce,ae,l,{})}}function de(e){let n,o,s,l,i,a,c,u,d;return{c(){n=b("div"),o=b("div"),s=b("label"),s.textContent="Your name",l=_(),i=b("input"),a=_(),c=b("button"),c.textContent="START GAME",S(s,"for","playerName"),S(i,"id","playerName"),S(i,"type","text"),S(i,"class","playerName"),S(i,"placeholder","player's name"),S(o,"class","preGameContainer svelte-ps6b62"),S(n,"class","dashboard")},m(t,r){$(t,n,r),m(n,o),m(o,s),m(o,l),m(o,i),C(i,e[0]),m(o,a),m(o,c),u||(d=[x(i,"input",e[1]),x(c,"click",te)],u=!0)},p(t,[e]){1&e&&i.value!==t[0]&&C(i,t[0])},i:t,o:t,d(t){t&&y(n),u=!1,r(d)}}}function fe(t,e,n){let o;return I((async()=>{const t=window.location.pathname.split("/")[2];await Zt(t),localStorage.getItem("name")&&n(0,o=localStorage.getItem("name"))})),t.$$.update=()=>{var e;1&t.$$.dirty&&o&&(localStorage.setItem("name",o),e=o,Xt.send("SET_NAME",{name:e}))},[o,function(){o=this.value,n(0,o)}]}class ge extends gt{constructor(t){super(),ft(this,t,fe,de,l,{})}}function me(t){let e,n;return e=new ge({}),{c(){at(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function pe(t){let e,n;return e=new St({}),{c(){at(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function he(t){let e,n;return e=new ue({}),{c(){at(e.$$.fragment)},m(t,o){ct(e,t,o),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function $e(t){let e,n,o,r;return e=new oe({}),o=new Wt({}),{c(){at(e.$$.fragment),n=_(),at(o.$$.fragment)},m(t,s){ct(e,t,s),$(t,n,s),ct(o,t,s),r=!0},i(t){r||(et(e.$$.fragment,t),et(o.$$.fragment,t),r=!0)},o(t){nt(e.$$.fragment,t),nt(o.$$.fragment,t),r=!1},d(t){ut(e,t),t&&y(n),ut(o,t)}}}function ye(t){let e,n,o,r,s,l,i,a,c,u,d=!t[0].isStarted&&me(),f=t[0].isStarted&&pe();l=new Dt({});let g=t[0].isStarted&&he(),p=t[0].isStarted&&$e();return{c(){d&&d.c(),e=_(),n=b("main"),o=b("div"),f&&f.c(),r=_(),s=b("div"),at(l.$$.fragment),i=_(),a=b("div"),g&&g.c(),c=_(),p&&p.c(),S(o,"class","left svelte-dakyeq"),S(s,"class","middle svelte-dakyeq"),S(a,"class","right svelte-dakyeq"),S(n,"class","svelte-dakyeq"),A(n,"blur",!t[0].isStarted)},m(t,h){d&&d.m(t,h),$(t,e,h),$(t,n,h),m(n,o),f&&f.m(o,null),m(n,r),m(n,s),ct(l,s,null),m(n,i),m(n,a),g&&g.m(a,null),m(n,c),p&&p.m(n,null),u=!0},p(t,[r]){t[0].isStarted?d&&(Z(),nt(d,1,1,(()=>{d=null})),tt()):d?1&r&&et(d,1):(d=me(),d.c(),et(d,1),d.m(e.parentNode,e)),t[0].isStarted?f?1&r&&et(f,1):(f=pe(),f.c(),et(f,1),f.m(o,null)):f&&(Z(),nt(f,1,1,(()=>{f=null})),tt()),t[0].isStarted?g?1&r&&et(g,1):(g=he(),g.c(),et(g,1),g.m(a,null)):g&&(Z(),nt(g,1,1,(()=>{g=null})),tt()),t[0].isStarted?p?1&r&&et(p,1):(p=$e(),p.c(),et(p,1),p.m(n,null)):p&&(Z(),nt(p,1,1,(()=>{p=null})),tt()),1&r&&A(n,"blur",!t[0].isStarted)},i(t){u||(et(d),et(f),et(l.$$.fragment,t),et(g),et(p),u=!0)},o(t){nt(d),nt(f),nt(l.$$.fragment,t),nt(g),nt(p),u=!1},d(t){d&&d.d(t),t&&y(e),t&&y(n),f&&f.d(),ut(l),g&&g.d(),p&&p.d()}}}function ve(t,e,n){let o;return i(t,ht,(t=>n(0,o=t))),[o]}return new class extends gt{constructor(t){super(),ft(this,t,ve,ye,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
